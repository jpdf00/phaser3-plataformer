import Phaser from"phaser";import{saveScore}from"./util.js";export default class GameOverScene extends Phaser.Scene{constructor(){super("GameOver")}init(t){this.score=t.score,this.saved=!1}create(){const t=document.querySelector("#nameInputFrame"),e=document.querySelector("#inputName");t.setAttribute("Style","display: flex"),this.add.image(400,300,"sky").setScale(3),this.add.image(400,300,"frame"),this.saveButton=this.add.sprite(100,200,"blueButton1").setInteractive(),this.centerButton(this.saveButton,1),this.saveText=this.add.text(0,0,"Save Score",{fontSize:"24px",fill:"#fff"}),this.centerButtonText(this.saveText,1),this.saveButton.on("pointerdown",(()=>{this.saved?(this.updateText.destroy(),this.updateText=this.add.text(400,100,"Score Alredy Saved",{fontSize:"32px",fill:"#fff"}),this.updateText.setOrigin(.5,.5)):saveScore(e.value,this.score).then((t=>{this.updateText=this.add.text(400,100,`${t.result}`,{fontSize:"32px",fill:"#fff"}),this.updateText.setOrigin(.5,.5),this.saved=!0})),e.value="",t.removeAttribute("Style")})),this.titleButton=this.add.sprite(100,200,"blueButton1").setInteractive(),this.centerButton(this.titleButton),this.titleText=this.add.text(0,0,"Title Screen",{fontSize:"24px",fill:"#fff"}),this.centerButtonText(this.titleText),this.titleButton.on("pointerdown",(()=>{e.value="",t.removeAttribute("Style"),this.scene.start("Title")})),this.leaderboardButton=this.add.sprite(100,200,"blueButton1").setInteractive(),this.centerButton(this.leaderboardButton,-1),this.leaderboardText=this.add.text(0,0,"Leaderboard",{fontSize:"24px",fill:"#fff"}),this.centerButtonText(this.leaderboardText,-1),this.leaderboardButton.on("pointerdown",(()=>{e.value="",t.removeAttribute("Style"),this.scene.start("Leaderboard")})),this.input.on("pointerover",((t,e)=>{e[0].setTexture("blueButton2")})),this.input.on("pointerout",((t,e)=>{e[0].setTexture("blueButton1")}))}centerButton(t,e=0){Phaser.Display.Align.In.Center(t,this.add.zone(400,300-100*e,800,600))}centerButtonText(t,e=0){Phaser.Display.Align.In.Center(t,this.add.zone(400,300-100*e,800,600))}}